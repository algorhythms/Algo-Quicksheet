\ProvidesPackage{commons}[2015/07/22 v1.0 common commands macros]
\usepackage{ifthen}
\usepackage[colorlinks, urlcolor=blue]{hyperref}
\usepackage{amssymb,amsmath,bm}
\usepackage{verbatim}
\usepackage{tikz}
\usetikzlibrary{shadows}

\usepackage{enumitem}
\setlist[itemize]{noitemsep, topsep=6pt}
\setlist[enumerate]{noitemsep, topsep=6pt}

%- short cuts
\newcommand{\ra}{\rightarrow}
\newcommand{\la}{\leftarrow}
\newcommand{\Ra}{\Rightarrow}
\newcommand{\Ra}{\Leftarrow}
\newcommand{\Lra}{\Leftrightarrow}
\newcommand{\R}{\mathbb{R}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\trieq}{\triangleq}
\newcommand\mat[1]{\mathcal{#1}}

% % after { to avoid extra space
\newcommand\rih[1]{%
  \textbf{#1}%
}

\newcommand\emaillink[1]{%
  \href{mailto:#1}{\nolinkurl{#1}}%
}

\newcommand\display[2]{%
  \ifthenelse{\equal{#1}{true}}{#2}{}%
}

% url directly starts with domain, without protocol
\newcommand\urld[1]{%
  \href{http://#1}{\nolinkurl{#1}}%
}

\newcommand{\hp}{\text{-}}}

% make bmatrix display vertical bar
\makeatletter
\renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}}
\makeatother

% example:
\begin{comment}
\begin{bmatrix}[cccc|c]
   1 & 0 & 3 & -1 & 0 \\
   0 & 1 & 1 & -1 & 0 \\
   0 & 0 & 0 & 0 & 0 \\
\end{bmatrix}
\end{comment}

% itemize list tree; for single-line item
\newcommand{\treelist}{\tikz[overlay]\draw(-.2,--.15)--(-.2,.6) [path fading=east](-.2,.15)--(.1,.15);}
\newcommand{\treeitem}{\item[\treelist]}

% integral
\newcommand*\diff{\mathop{}\!\mathrm{d}}
\newcommand*\Diff[1]{\mathop{}\!\mathrm{d^#1}}  % \Diff3\mathbf{y}